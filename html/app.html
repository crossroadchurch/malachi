<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Malachi App</title>
    <link rel="stylesheet" href="/html/app.css" />
    <link rel="stylesheet" href="/html/libs/toastify.css" />
    <link rel="icon" type="image/png" href="/html/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/html/favicon.svg" />
    <link rel="shortcut icon" href="/html/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/html/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Malachi App" />
    <link rel="manifest" href="/html/site.webmanifest" />
    <script type="text/javascript" src="/html/libs/toastify.min.js"></script>
    <script type="text/javascript" src="/html/app_i18n.js"></script>
    <script type="text/javascript" src="/html/app.js"></script>
  </head>
  <body>
    <div id="main_area">
      <div id="item_area">
        <div id="screen_view">
          <iframe id="screen_iframe" src="./screen?muted=true"></iframe>
        </div>
        <div id="item_header">
          <div class="mi_toggle">
            <input type="checkbox" id="flip_screen_state" name="flip_screen_state" />
            <output id="flip_screen_state_out"></output>
          </div>
          <img id="current_item_icon" src="/html/icons/icons8-musical-notes-48.png" /><span
            id="current_item_name"></span>
        </div>
        <div id="current_item">
          <div id="audio_controls">
            <div class="playback_buttons">
              <div id="audio_controls_text" class="button_inline_text"></div>
              <div class="cmd_button icon_button play_icon" onclick="play_audio()"></div>
              <div class="cmd_button icon_button pause_icon" onclick="pause_audio()"></div>
              <div class="cmd_button icon_button stop_icon" onclick="stop_audio()"></div>
            </div>
          </div>
          <div id="video_controls">
            <div class="playback_buttons">
              <div class="cmd_button icon_button play_icon" onclick="play_video()"></div>
              <div class="cmd_button icon_button pause_icon" onclick="pause_video()"></div>
              <div class="cmd_button icon_button stop_icon" onclick="stop_video()"></div>
              <div class="i18n_restore cmd_button restore_button" onclick="restore_loop()"></div>
            </div>
            <div id="time_seek_area">
              <progress id="time_seek" min="0" max="100"></progress>
            </div>
          </div>
          <div id="presentation_controls">
            <div class="playback_buttons">
              <div class="cmd_button icon_button play_icon" onclick="start_presentation()"></div>
              <div class="i18n_restore cmd_button restore_button" onclick="restore_loop()"></div>
            </div>
          </div>
          <div id="bible_controls">
            <div id="b_main_version_radios" class="radio_toggle_group"></div>
            <div id="b_alt_version_radios" class="radio_toggle_group"></div>
          </div>
          <div id="current_item_list_div">
            <div id="current_item_list" class="ml_list"></div>
          </div>
        </div>
      </div>
      <div id="elements_area" ondragover="drag_over(event)" ondrop="drag_drop(event)">
        <div id="elements_header">
          <div
            id="service_elt_button"
            class="element_button active_element"
            onclick="load_element('service')"
          >
            <img class="element_icon" src="/html/icons/icons8-numbered-list-48.png" />
            <span id="service_elt_text" class="element_label"></span>
          </div>
          <div id="song_elt_button" class="element_button" onclick="load_element('song')">
            <img class="element_icon" src="/html/icons/icons8-musical-notes-48.png" />
            <span id="song_elt_text" class="element_label"></span>
          </div>
          <div id="bible_elt_button" class="element_button" onclick="load_element('bible')">
            <img class="element_icon" src="/html/icons/icons8-literature-48.png" />
            <span id="bible_elt_text" class="element_label"></span>
          </div>
          <div
            id="presentation_elt_button"
            class="element_button"
            onclick="load_element('presentation')"
          >
            <img class="element_icon" src="/html/icons/icons8-presentation-48.png" />
            <span id="presentation_elt_text" class="element_label"></span>
          </div>
          <div id="video_elt_button" class="element_button" onclick="load_element('video')">
            <img class="element_icon" src="/html/icons/icons8-tv-show-48.png" />
            <span id="video_elt_text" class="element_label"></span>
          </div>
          <div
            id="backgrounds_elt_button"
            class="element_button"
            onclick="load_element('backgrounds')"
          >
            <img class="element_icon" src="/html/icons/icons8-image-48.png" />
            <span id="backgrounds_elt_text" class="element_label"></span>
          </div>
          <div id="styles_elt_button" class="element_button" onclick="load_element('styles')">
            <img class="element_icon" src="/html/icons/icons8-services-48.png" />
            <span id="styles_elt_text" class="element_label"></span>
          </div>
          <div id="updater_elt_button" class="element_button" onclick="load_element('updater')">
            <img class="element_icon" src="/html/icons/icons8-alert-48.png" />
          </div>
          <div
            id="help_button"
            class="element_button"
            onclick="window.open('https://github.com/crossroadchurch/malachi/wiki/User-Guide#wiki-wrapper', '_blank', 'status=0')"
          >
            <img class="element_icon" src="/html/icons/icons8-help-48.png" />
          </div>
        </div>

        <div id="service_element" class="element_panel">
          <div id="service_menu">
            <div id="new_service_btn" class="cmd_button menu_button" onclick="new_service(false)"></div>
            <div id="load_service_btn" class="cmd_button menu_button" onclick="load_service_preload()"></div>
            <div id="save_service_btn" class="cmd_button menu_button" onclick="save_service('none')"></div>
            <div id="save_as_service_btn" class="cmd_button menu_button" onclick="open_save_service_popup()"></div>
            <div id="export_service_btn" class="cmd_button menu_button" onclick="export_service()"></div>
          </div>
          <h3><span id="service_h3_text"></span> <span id="service_name"></span></h3>
          <div id="service_list" class="ml_list"></div>
          <div id="countdown_control">
            <div id="start_countdown_btn" class="cmd_button small_button" onclick="start_countdown(false)">
            </div>
            <input type="time" id="cd_time" name="cd_time" class="mi_textinput" />
            <div id="cancel_countdown_btn" class="cmd_button small_button" onclick="clear_countdown()"></div>
          </div>
          <div id="notices_control">
            <button id="import_notices_btn" class="cmd_button small_button" onclick="import_notices()">
            </button>
            <button id="start_notices_btn" class="cmd_button small_button" onclick="start_countdown(true)">
            </button>
            <input id="notices_filename" type="text" class="mi_textinput" disabled></input>
            <button id="clear_notices_btn" class="ml_icon ml_icon_minus" onclick="clear_notices();"></button>
          </div>
        </div>

        <div id="song_element" class="element_panel">
          <div class="refresh_header">
            <h3 id="songs_h3_text"></h3>
            <div id="create_song_btn" class="cmd_button" onclick="create_song()">
              <img src="/html/icons/icons8-plus-24.png" />
              <span id="create_song_text"></span>
            </div>
          </div>
          <div class="search_div">
            <input
              type="search"
              id="song_search"
              value=""
              class="mi_textinput"
            />
            <div class="cmd_button small_button" onclick="song_search()">
              <img src="/html/icons/icons8-search-24.png" />
              <span id="song_search_btn"></span>
            </div>
          </div>
          <div id="song_list" class="ml_list"></div>
        </div>

        <div id="bible_element" class="element_panel">
          <div class="refresh_header">
            <h3 id="bible_h3_text"></h3>
            <div id="b_version_radios" class="radio_toggle_group"></div>
          </div>
          <div class="search_div">
            <input type="search" id="bible_search" value="" class="mi_textinput" />
            <div class="cmd_button small_button" onclick="bible_search()">
              <img src="/html/icons/icons8-search-24.png" />
              <span id="bible_search_btn"></span>
            </div>
          </div>

          <div id="bible_select_options">
            <div id="bible_select_all_btn" class="cmd_button small_button" onclick="select_all_verses()"></div>
            <div id="bible_select_none_btn" class="cmd_button small_button" onclick="select_none_verses()"></div>
            <div class="cmd_button small_button" onclick="add_verses()">
              <img src="/html/icons/icons8-plus-24.png" />
              <span id="bible_add_to_btn"></span>
            </div>
          </div>
          <div id="passage_list" class="ml_list"></div>
        </div>

        <div id="presentation_element" class="element_panel">
          <div class="refresh_header">
            <h3 id="pres_h3_text"></h3>
            <div id="import_presentation_btn" class="cmd_button" onclick="import_presentation()">
              <img src="/html/icons/icons8-add-file-24.png" />
              <span id="pres_import_btn"></span>
            </div>
          </div>
          <div id="presentation_list" class="ml_list"></div>
        </div>

        <div id="video_element" class="element_panel">
          <div class="refresh_header">
            <h3 id="videos_h3_text"></h3>
            <div id="import_video_btn" class="cmd_button" onclick="import_video()">
              <img src="/html/icons/icons8-add-file-24.png" />
              <span id="videos_import_btn"></span>
            </div>
          </div>
          <div id="video_list" class="ml_list"></div>
        </div>

        <div id="backgrounds_element" class="element_panel">
          <div class="refresh_header">
            <h3 id="loops_h3_text"></h3>
            <div id="import_loop_btn" class="cmd_button" onclick="import_loop()">
              <img src="/html/icons/icons8-add-file-24.png" />
              <span id="loops_import_btn"></span>
            </div>
          </div>
          <div id="loop_list" class="ml_list"></div>
          <div id="clear_loop_btn" class="cmd_button full_button" onclick="clear_loop()"></div>
          <div class="refresh_header">
            <h3 id="bgs_h3_text"></h3>
            <div id="import_background_btn" class="cmd_button" onclick="import_background()">
              <img src="/html/icons/icons8-add-file-24.png" />
              <span id="bgs_import_btn"></span>
            </div>
          </div>
          <div class="song_bible_area">
            <div class="ml_list song_bible_button">
              <div class="ml_row">
                <div id="bgs_for_songs_text" class="ml_text"></div>
                <img id="song_bg_icon" src="" />
                <a class="ml_button ml_icon ml_icon_minus" onclick="remove_song_background();"></a>
              </div>
            </div>
            <div class="ml_list song_bible_button">
              <div class="ml_row">
                <div id="bgs_for_bible_text" class="ml_text"></div>
                <img id="bible_bg_icon" src="" />
                <a class="ml_button ml_icon ml_icon_minus" onclick="remove_bible_background();"></a>
              </div>
            </div>
          </div>
          <div id="background_list" class="ml_list"></div>
        </div>

        <div id="styles_element" class="element_panel">
          <h3 id="settings_h3_text"></h3>
          <div id="sh_mainarea" class="ml_row style_header">
            <div id="main_area_text" class="sl_text"></div>
            <a class="sl_button ml_icon ml_icon_dots" onclick="expand_section('mainarea')"></a>
          </div>
          <div id="sg_mainarea" class="style_group">
            <div class="mi_range">
              <label id="s_width_text" for="s_width"></label>
              <input
                id="s_width"
                type="range"
                min="50"
                max="100"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="s_width_out"></output>
            </div>
            <div class="mi_range">
              <label id="s_font_size_text" for="s_font_size"></label>
              <input
                id="s_font_size"
                type="range"
                min="5"
                max="20"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="s_font_size_out"></output>
            </div>
            <div class="mi_range">
              <label id="s_lines_text" for="s_lines"></label>
              <input
                id="s_lines"
                type="range"
                min="1"
                max="10"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="s_lines_out"></output>
            </div>
            <div class="mi_range">
              <label id="s_margin_text" for="s_margin"></label>
              <input
                id="s_margin"
                type="range"
                min="0"
                max="25"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="s_margin_out"></output>
            </div>
            <div id="tc_picker_div">
              <span id="s_color_text"></span>
              <input id="tc_all" type="color" onchange="color_picker_change()" />
            </div>
            <div id="o_style_div" class="radio_toggle_group">
              <span id="o_style_text"></span>
              <input type="radio" name="o_style" id="o_style_1" data-ol="drop-shadow" />
              <label id="o_drop_text" for="o_style_1"></label>
              <input type="radio" name="o_style" id="o_style_2" data-ol="text-outline" />
              <label id="o_outline_text" for="o_style_2"></label>
              <input type="radio" name="o_style" id="o_style_3" data-ol="none" />
              <label id="o_none_text" for="o_style_3"></label>
            </div>
          </div>
          <div id="sh_bible" class="ml_row style_header">
            <div id="sh_bible_text" class="sl_text"></div>
            <a class="sl_button ml_icon ml_icon_dots" onclick="expand_section('bible')"></a>
          </div>
          <div id="sg_bible" class="style_group">
            <div id="d_version_radios" class="radio_toggle_group">
              <span id="d_version_text"></span>
            </div>
            <div class="mi_range">
              <label id="b_lines_text" for="b_lines"></label>
              <input
                id="b_lines"
                type="range"
                min="1"
                max="10"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="b_lines_out"></output>
            </div>
            <div class="mi_range">
              <label id="pl_width_text" for="pl_width"></label>
              <input
                id="pl_width"
                type="range"
                min="30"
                max="50"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="pl_width_out"></output>
            </div>
            <div class="mi_range">
              <label id="pl_font_size_text" for="pl_font_size"></label>
              <input
                id="pl_font_size"
                type="range"
                min="5"
                max="20"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="pl_font_size_out"></output>
            </div>
            <div class="mi_range">
              <label id="pl_lines_text" for="pl_lines"></label>
              <input
                id="pl_lines"
                type="range"
                min="1"
                max="10"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="pl_lines_out"></output>
            </div>
          </div>
          <div id="sh_countdowns" class="ml_row style_header">
            <div id="sh_countdowns_text" class="sl_text"></div>
            <a class="sl_button ml_icon ml_icon_dots" onclick="expand_section('countdowns')"></a>
          </div>
          <div id="sg_countdowns" class="style_group">
            <div class="mi_range">
              <label id="ch_size_text" for="ch_size"></label>
              <input
                id="ch_size"
                type="range"
                min="1"
                max="50"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="ch_size_out"></output>
            </div>
            <div id="countdown_h_text_input">
              <label id="cd_text_text" for="cd_text"></label>
              <input type="text" id="cd_text" class="mi_textinput" />
            </div>
            <div class="mi_range">
              <label id="cd_size_text" for="cd_size"></label>
              <input
                id="cd_size"
                type="range"
                min="1"
                max="50"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="cd_size_out"></output>
            </div>
            <div class="mi_range">
              <label id="cd_top_text" for="cd_top"></label>
              <input
                id="cd_top"
                type="range"
                min="0"
                max="100"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="cd_top_out"></output>
            </div>
            <div class="mi_range">
              <label id="nt_slide_text" for="nt_slide"></label>
              <input
                id="nt_slide"
                type="range"
                min="1"
                max="60"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="nt_slide_out"></output>
            </div>
            <div class="mi_range">
              <label id="nt_cycle_text" for="nt_cycle"></label>
              <input
                id="nt_cycle"
                type="range"
                min="1"
                max="60"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="nt_cycle_out"></output>
            </div>
            <div class="mi_range">
              <label id="nt_end_text" for="nt_end"></label>
              <input
                id="nt_end"
                type="range"
                min="5"
                max="300"
                step="5"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="nt_end_out"></output>
            </div>
          </div>
          <div id="sh_copyright" class="ml_row style_header">
            <div id="sh_copyright_text" class="sl_text"></div>
            <a class="sl_button ml_icon ml_icon_dots" onclick="expand_section('copyright')"></a>
          </div>
          <div id="sg_copyright" class="style_group">
            <div class="mi_toggle_div">
              <span id="d_copyright_text"></span>
              <div class="mi_toggle">
                <input type="checkbox" id="d_copyright" />
                <output id="d_copyright_out"></output>
              </div>
            </div>
            <div class="mi_range">
              <label id="cp_size_text" for="cp_size"></label>
              <input
                id="cp_size"
                type="range"
                min="10"
                max="50"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="cp_size_out"></output>
            </div>
            <div class="mi_range">
              <label id="cp_width_text" for="cp_width"></label>
              <input
                id="cp_width"
                type="range"
                min="20"
                max="90"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="cp_width_out"></output>
            </div>
          </div>
          <div id="sh_verseorder" class="ml_row style_header">
            <div id="sh_verseorder_text" class="sl_text"></div>
            <a class="sl_button ml_icon ml_icon_dots" onclick="expand_section('verseorder')"></a>
          </div>
          <div id="sg_verseorder" class="style_group">
            <div class="mi_toggle_div">
              <span id="d_verseorder_text"></span>
              <div class="mi_toggle">
                <input type="checkbox" id="d_verseorder" />
                <output id="d_verseorder_out"></output>
              </div>
            </div>
            <div class="mi_range">
              <label id="vo_size_text" for="vo_size"></label>
              <input
                id="vo_size"
                type="range"
                min="10"
                max="50"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="vo_size_out"></output>
            </div>
            <div class="mi_range">
              <label id="vo_width_text" for="vo_width"></label>
              <input
                id="vo_width"
                type="range"
                min="20"
                max="90"
                step="1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="vo_width_out"></output>
            </div>
          </div>
          <div id="sh_appsettings" class="ml_row style_header">
            <div id="sh_appsettings_text" class="sl_text"></div>
            <a class="sl_button ml_icon ml_icon_dots" onclick="expand_section('appsettings')"></a>
          </div>
          <div id="sg_appsettings" class="style_group">
            <div id="app_lang_div" class="radio_toggle_group">
              <span id="app_lang_text"></span>
              <input type="radio" name="a_lang" id="a_lang_1" data-al="en" />
              <label id="a_english_text" for="a_lang_1"></label>
              <input type="radio" name="a_lang" id="a_lang_2" data-al="es" />
              <label id="a_spanish_text" for="a_lang_2"></label>
            </div>
            <div class="mi_range">
              <label id="at_scale_text" for="at_scale"></label>
              <input
                id="at_scale"
                type="range"
                min="1"
                max="3"
                step="0.1"
                oninput="style_slider_input(this)"
                onchange="style_slider_change(this)"
              />
              <output id="at_scale_out"></output>
            </div>
          </div>
          <div id="sh_recyclebin" class="ml_row style_header">
            <div id="sh_recyclebin_text" class="sl_text"></div>
            <a class="sl_button ml_icon ml_icon_dots" onclick="expand_section('recyclebin')"></a>
          </div>
          <div id="sg_recyclebin" class="style_group">
            <div id="recycle_bin" class="ml_list"></div>
            <button onclick="confirm_empty_recycle_bin()" class="cmd_button full_button">
              <img src="/html/icons/icons8-remove-24.png" />
              <span id="recycle_bin_btn"></span>
            </button>
          </div>
          <h4 id="about_h4_text"></h4>
          <p>
            <span id="about_malachi_text"></span>
            <a id="about_gpl_text" href="https://www.gnu.org/licenses/gpl-3.0-standalone.html" target="_blank"></a>
          </p>
          <p>
            <span id="about_icons8_text"></span>
            <a href="https://icons8.com" target="_blank">Icons8</a>.
          </p>
        </div>

        <div id="updater_element" class="element_panel">
          <h3 id="updater_h3_text"></h3>
          <div id="regular_update_instructions">
            <p id="regular_intro_text"></p>
            <ol class="update_instructions">
              <li id="regular_step_1"></li>
              <li id="regular_step_2"></li>
              <li id="regular_step_3"></li>
              <li id="regular_step_4"></li>
            </ol>
            <button id="updater_btn" onclick="update_malachi()" class="cmd_button full_button">
              <img src="/html/icons/icons8-windows-update-24.png" />
              <span id="updater_btn_text"></span>
            </button>
          </div>
          <div id="python_update_instructions">
            <p id="python_intro_text"></p>
            <ol class="update_instructions">
              <li id="python_step_1"></li>
              <li><span id="python_step_2"></span><strong id="python_version_needed">3.x.x</strong></li>
              <li><span id="python_step_3a"></span><a id="python_step_3b" href="https://github.com/crossroadchurch/malachi/wiki/Manually-updating-Python-and-Malachi"></a><span id="python_step_3c"></span></li>
            </ol>
          </div>
        </div>
      </div>
    </div>

    <!-- POPUP: Prompt to save before stating new service -->
    <div id="popup_new_service" class="popup_wrapper">
      <div class="popup_v_spacer"></div>
      <div style="display: flex">
        <div class="popup_h_spacer"></div>
        <div style="display: flex; flex-direction: column">
          <div class="popup_header">
            <span id="popup_new_header_text"></span>
          </div>
          <div class="popup_panel">
            <p id="popup_new_body_text"></p>
            <div class="popup_buttons">
              <div class="i18n_save cmd_button menu_button dialog_button" onclick="save_service('new')"></div>
              <div class="i18n_discard cmd_button menu_button dialog_button" onclick="new_service(true)"></div>
              <div
                class="i18n_cancel cmd_button menu_button dialog_button"
                onclick="close_popup('popup_new_service')"
              ></div>
            </div>
          </div>
        </div>
        <div class="popup_h_spacer"></div>
      </div>
      <div class="popup_v_spacer"></div>
    </div>

    <!-- POPUP: Prompt to save before loading service -->
    <div id="popup_save_before_load_service" class="popup_wrapper">
      <div class="popup_v_spacer"></div>
      <div style="display: flex">
        <div class="popup_h_spacer"></div>
        <div style="display: flex; flex-direction: column">
          <div class="popup_header">
            <span id="popup_save_load_header_text"></span>
          </div>
          <div class="popup_panel">
            <p id="popup_save_load_body_text"></p>
            <div class="popup_buttons">
              <div class="i18n_save cmd_button menu_button dialog_button" onclick="save_service('load')"></div>
              <div class="i18n_discard cmd_button menu_button dialog_button" onclick="load_service(true)"></div>
              <div
                class="i18n_cancel cmd_button menu_button dialog_button"
                onclick="close_popup('popup_save_before_load_service')"
              ></div>
            </div>
          </div>
        </div>
        <div class="popup_h_spacer"></div>
      </div>
      <div class="popup_v_spacer"></div>
    </div>

    <!-- POPUP: Save service as dialog -->
    <div id="popup_save_service_as" class="popup_wrapper">
      <div class="popup_v_spacer"></div>
      <div style="display: flex">
        <div class="popup_h_spacer"></div>
        <div style="display: flex; flex-direction: column">
          <div class="popup_header">
            <span id="popup_save_as_header_text"></span>
          </div>
          <div class="popup_panel">
            <p id="popup_save_as_body_text"></p>
            <input
              id="f_name"
              name="f_name"
              type="text"
              value=""
              class="mi_textinput"
            />
            <div class="popup_buttons">
              <div class="i18n_save cmd_button menu_button dialog_button" onclick="save_service_as()"></div>
              <div class="i18n_cancel cmd_button menu_button dialog_button" onclick="close_save_as_popup()"></div>
            </div>
          </div>
        </div>
        <div class="popup_h_spacer"></div>
      </div>
      <div class="popup_v_spacer"></div>
    </div>

    <!-- POPUP: Load service dialog -->
    <div id="popup_load_service" class="popup_wrapper">
      <div class="popup_v_spacer"></div>
      <div style="display: flex">
        <div class="popup_h_spacer"></div>
        <div style="display: flex; flex-direction: column">
          <div class="popup_header">
            <span id="popup_load_header_text"></span>
          </div>
          <div class="popup_panel">
            <p id="popup_load_body_text"></p>
            <div
              id="load_files_radio"
              class="ml_list"
              style="max-height: 250px; overflow-y: auto; width: 100%"
            ></div>
            <div class="popup_buttons">
              <div class="i18n_load cmd_button menu_button dialog_button" onclick="load_service(false)"></div>
              <div id="import_service_btn" class="cmd_button menu_button dialog_button" onclick="import_service()">
                <img src="/html/icons/icons8-add-file-24.png" />
                <span class="i18n_import"></span>
              </div>
              <div
                class="i18n_cancel cmd_button menu_button dialog_button"
                onclick="close_popup('popup_load_service')"
              ></div>
            </div>
          </div>
        </div>
        <div class="popup_h_spacer"></div>
      </div>
      <div class="popup_v_spacer"></div>
    </div>

    <!-- POPUP: Attach audio dialog -->
    <div id="popup_attach_audio" class="popup_wrapper">
      <div class="popup_v_spacer"></div>
      <div style="display: flex">
        <div class="popup_h_spacer"></div>
        <div style="display: flex; flex-direction: column">
          <div class="popup_header">
            <span id="popup_attach_header_text"></span>
          </div>
          <div class="popup_panel">
            <p id="popup_attach_body_text"></p>
            <div
              id="attach_audio_radio"
              class="ml_list"
              style="max-height: 250px; overflow-y: auto; width: 100%"
            ></div>
            <div class="popup_buttons">
              <div class="i18n_attach cmd_button menu_button dialog_button" onclick="attach_audio()"></div>
              <div id="import_audio_btn" class="cmd_button menu_button dialog_button" onclick="import_audio()">
                <img src="/html/icons/icons8-add-file-24.png" />
                <span class="i18n_import"></span>
              </div>
              <div
                class="i18n_cancel cmd_button menu_button dialog_button"
                onclick="close_attach_audio_popup()"
              ></div>
            </div>
          </div>
        </div>
        <div class="popup_h_spacer"></div>
      </div>
      <div class="popup_v_spacer"></div>
    </div>

    <!-- POPUP: Prompt to confirm song deletion -->
    <div id="popup_confirm_delete_song" class="popup_wrapper">
      <div class="popup_v_spacer"></div>
      <div style="display: flex">
        <div class="popup_h_spacer"></div>
        <div style="display: flex; flex-direction: column">
          <div class="popup_header">
            <span id="popup_delete_header_text"></span>
          </div>
          <div class="popup_panel">
            <p id="popup_delete_body_text"></p>
            <div class="popup_buttons">
              <div class="i18n_delete cmd_button menu_button dialog_button" onclick="delete_song()"></div>
              <div
                class="i18n_cancel cmd_button menu_button dialog_button"
                onclick="close_popup('popup_confirm_delete_song')"
              ></div>
            </div>
          </div>
        </div>
        <div class="popup_h_spacer"></div>
      </div>
      <div class="popup_v_spacer"></div>
    </div>

    <!-- POPUP: Prompt to confirm emptying song recycle bin -->
    <div id="popup_confirm_empty_bin" class="popup_wrapper">
      <div class="popup_v_spacer"></div>
      <div style="display: flex">
        <div class="popup_h_spacer"></div>
        <div style="display: flex; flex-direction: column">
          <div class="popup_header">
            <span id="popup_recycle_header_text"></span>
          </div>
          <div class="popup_panel">
            <p id="popup_recycle_body_text"></p>
            <div class="popup_buttons">
              <div class="i18n_empty cmd_button menu_button dialog_button" onclick="empty_recycle_bin()"></div>
              <div
                class="i18n_cancel cmd_button menu_button dialog_button"
                onclick="close_popup('popup_confirm_empty_bin')"
              ></div>
            </div>
          </div>
        </div>
        <div class="popup_h_spacer"></div>
      </div>
      <div class="popup_v_spacer"></div>
    </div>

    <!-- POPUP: Edit song dialog -->
    <div id="popup_edit_song" class="popup_wrapper">
      <div class="popup_v_spacer"></div>
      <div class="popup_header">
        <span id="popup_edit_mode"></span>
      </div>
      <div class="popup_h_content">
        <!-- Left column -->
        <div class="popup_panel">
          <span id="e_title_span"></span>
          <input type="text" id="e_title" class="mi_textinput" />
          <div class="popup_row">
            <div class="popup_column">
              <span id="e_author_label"></span>
              <input type="text" id="e_author" class="mi_textinput" />
            </div>
          </div>
          <span id="e_copyright_label"></span>
          <input type="text" id="e_copyright" class="mi_textinput" />
          <div class="popup_row">
            <div class="popup_column">
              <span id="e_book_label"></span>
              <input type="text" id="e_book" class="mi_textinput" />
            </div>
            <div class="popup_column">
              <span id="e_number_label"></span>
              <input type="text" id="e_number" class="mi_textinput" />
            </div>
            <div class="popup_column">
              <span id="e_audio_label"></span>
              <div style="display: flex">
                <input
                  type="text"
                  id="e_audio"
                  class="mi_textinput mi_textinput_join_right"
                  readonly
                />
                <div
                  class="cmd_button small_button btn_join_left"
                  id="add_audio_btn"
                  onclick="audio_popup_preload()"
                >
                  <img src="/html/icons/icons8-plus-24.png" />
                </div>
                <div
                  class="cmd_button small_button btn_join_left"
                  id="remove_audio_btn"
                  onclick="remove_audio()"
                >
                  <img src="/html/icons/icons8-minus-24.png" />
                </div>
              </div>
            </div>
          </div>
          <div style="width: 100%">
            <span id="e_order_hint"><img src="/html/icons/icons8-help-48.png" class="help_icon" />
            </span>
            <span id="e_order_label"></span>
          </div>
          <input type="text" id="e_order" class="mi_textinput" />
          <div style="width: 100%; display: flex; flex-direction: row; gap: 1em">
            <div class="popup_column">
              <span id="e_key_label"></span>
              <div id="e_key_div" class="radio_toggle_group">
                <input type="radio" name="e_key" id="e_key_1" data-ek="C" />
                <label for="e_key_1">C</label>
                <input type="radio" name="e_key" id="e_key_2" data-ek="Db" />
                <label for="e_key_2">Db</label>
                <input type="radio" name="e_key" id="e_key_3" data-ek="D" />
                <label for="e_key_3">D</label>
                <input type="radio" name="e_key" id="e_key_4" data-ek="Eb" />
                <label for="e_key_4">Eb</label>
                <input type="radio" name="e_key" id="e_key_5" data-ek="E" />
                <label for="e_key_5">E</label>
                <input type="radio" name="e_key" id="e_key_6" data-ek="F" />
                <label for="e_key_6">F</label>
                <input type="radio" name="e_key" id="e_key_7" data-ek="F#" />
                <label for="e_key_7">F#</label>
                <input type="radio" name="e_key" id="e_key_8" data-ek="G" />
                <label for="e_key_8">G</label>
                <input type="radio" name="e_key" id="e_key_9" data-ek="Ab" />
                <label for="e_key_9">Ab</label>
                <input type="radio" name="e_key" id="e_key_10" data-ek="A" />
                <label for="e_key_10">A</label>
                <input type="radio" name="e_key" id="e_key_11" data-ek="Bb" />
                <label for="e_key_11">Bb</label>
                <input type="radio" name="e_key" id="e_key_12" data-ek="B" />
                <label for="e_key_12">B</label>
              </div>
            </div>
            <div class="popup_column_no_grow">
              <span id="e_transpose_label"></span>
              <div style="display: flex">
                <div class="cmd_button small_button btn_join_right" onclick="transpose_by(-1)">
                  <img src="/html/icons/icons8-back-to-24.png" />
                </div>
                <input id="e_transpose_out" type="text" class="mi_textinput" readonly />
                <div class="cmd_button small_button btn_join_left" onclick="transpose_by(1)">
                  <img src="/html/icons/icons8-next-page-24.png" />
                </div>
              </div>
            </div>
          </div>

          <div class="popup_baseline_row">
            <div
              id="delete_song_btn"
              class="cmd_button restore_button"
              onclick="confirm_delete_song()"
            >
              <img src="/html/icons/icons8-remove-24.png" />
              <span class="i18n_delete"></span>
            </div>
            <div style="flex-grow: 1"></div>
            <div class="popup_buttons">
              <div class="cmd_button menu_button dialog_button" onclick="save_song()">
                <img src="/html/icons/icons8-save-24.png" />
                <span class="i18n_save"></span>
              </div>
              <div
                class="cmd_button menu_button dialog_button"
                onclick="close_popup('popup_edit_song')"
              >
                <img src="/html/icons/icons8-close-window-24.png" />
                <span class="i18n_cancel"></span>
              </div>
            </div>
          </div>
        </div>
        <!-- Right column -->
        <div class="popup_panel">
          <div>
            <span id="e_lyrics_hint"><img src="/html/icons/icons8-help-48.png" class="help_icon" />
            </span>
            <span id="e_lyrics_label"></span>
          </div>
          <textarea
            cols="48"
            rows="15"
            name="e_lyrics"
            id="e_lyrics"
            class="mi_textarea"
          ></textarea>
          <div style="width: 100%">
            <span id="e_fills_hint"><img src="/html/icons/icons8-help-48.png" class="help_icon" />
            </span>
            <span id="e_fills_label"></span>
          </div>
          <div id="fill_editor">
            <div id="line_numbers"></div>
            <textarea cols="50" rows="5" name="e_fills" id="e_fills" class="mi_textarea"></textarea>
          </div>
        </div>
      </div>
      <div class="popup_v_spacer"></div>
    </div>
    <div
      id="drag_ghost"
      class="ml_list"
      style="position: absolute; top: -200; left: 0; width: 275px"
    >
      <div class="ml_row">
        <div class="ml_text">
          <img
            id="drag_song_icon"
            class="ml_drag_icon"
            src="/html/icons/icons8-musical-notes-48.png"
          />
          <img
            id="drag_bible_icon"
            class="ml_drag_icon"
            src="/html/icons/icons8-literature-48.png"
          />
          <img
            id="drag_presentation_icon"
            class="ml_drag_icon"
            src="/html/icons/icons8-presentation-48.png"
          />
          <img id="drag_video_icon" class="ml_drag_icon" src="/html/icons/icons8-tv-show-48.png" />
          <span id="ghost_text">Song title goes here</span>
        </div>
      </div>
    </div>
  </body>
</html>
